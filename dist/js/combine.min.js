var fs=require("fs"),path=require("path"),UglifyJS=require("uglify-js"),distDir=path.join(__dirname,"dist");function combineComponents(){var n=path.join(__dirname,"components"),i=fs.readdirSync(n).filter(function(i){return i.endsWith(".js")&&!i.endsWith(".min.js")&&"desktop.ini"!==i}).map(function(i){return path.join(n,i)}),e={},i=(i.forEach(function(i){e[i]=fs.readFileSync(i,"utf8")}),path.join(__dirname,"global.js")),i=(fs.existsSync(i)&&(e[i]=fs.readFileSync(i,"utf8")),UglifyJS.minify(e));i.error?console.error("Error minifying components:",i.error):(fs.writeFileSync(path.join(distDir,"fidelio.min.js"),i.code),console.log("All JavaScript files combined and minified successfully!"))}fs.existsSync(distDir)||fs.mkdirSync(distDir),combineComponents(),console.log("JavaScript combination complete!");